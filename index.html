<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ronash Hub - Key System</title>
<style>
  body {
    margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center;
    background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
    font-family: "Poppins", sans-serif; color: white;
  }
  .container {
    background: rgba(0,0,0,0.4); padding: 40px; border-radius: 20px;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.4); text-align: center; width: 350px;
  }
  input {
    width: 100%; padding: 12px; border: none; border-radius: 10px;
    margin-bottom: 15px; font-size: 16px; text-align: center;
    background: rgba(255,255,255,0.1); color: white;
  }
  .btn {
    padding: 12px 20px; border: none; border-radius: 12px;
    cursor: pointer; font-size: 16px; font-weight: bold; margin: 8px;
    color: white; background: linear-gradient(90deg, #00f260, #0575e6);
    box-shadow: 0 0 15px rgba(0,255,255,0.5); transition: 0.3s;
  }
  .btn:hover { transform: scale(1.05); box-shadow: 0 0 25px rgba(0,255,255,0.9); }
  #message { margin-top: 15px; font-size: 14px; }
  .success { color: #00ff88; }
  .error { color: #ff4444; }
  #loadstringBox {
    width: 100%; height: 70px; margin-top: 15px; padding: 10px;
    border-radius: 10px; font-size: 14px; background: rgba(0,0,0,0.2); color: white; display:none;
  }
</style>
</head>
<body>
<div class="container">
  <h1>🔑 Ronash Hub</h1>
  <input type="text" id="keyInput" placeholder="Enter your key..."><br>
  <button class="btn" onclick="getKey()">Get Key</button>
  <button class="btn" onclick="checkKey()">Verify Key</button>
  <p id="message"></p>
  <textarea id="loadstringBox" readonly></textarea>
</div>

<script>
const keyLifetime = 24*60*60*1000; // 24h

// Generate random key
function generateKey(){
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  let key = "RONASH-";
  for(let i=0;i<8;i++){
    key += chars.charAt(Math.floor(Math.random()*chars.length));
  }
  return key;
}

// Get Key → redirects user to Linkvertise
function getKey(){
  window.location.href = "https://link-hub.net/1392426/izgbI46tRU33";
}

// Check if user just came from Linkvertise
window.onload = function(){
  // Example: user comes back after Linkvertise redirect
  if(!localStorage.getItem("ronashKey")){
    // Generate key automatically
    const newKey = generateKey();
    localStorage.setItem("ronashKey", newKey);
    localStorage.setItem("ronashTime", Date.now());
    alert("✅ Your Ronash Hub key:\n\n"+newKey+"\n\n(Valid for 24 hours)");
  }
}

// Verify Key
function checkKey(){
  const input = document.getElementById("keyInput").value.trim();
  const savedKey = localStorage.getItem("ronashKey");
  const savedTime = parseInt(localStorage.getItem("ronashTime"),10);
  const now = Date.now();
  const msg = document.getElementById("message");
  const loadBox = document.getElementById("loadstringBox");

  if(!savedKey){
    msg.textContent = "⚠️ Please get a key first!";
    msg.className = "error";
    loadBox.style.display = "none";
    return;
  }

  if(input === savedKey){
    if(now - savedTime < keyLifetime){
      msg.textContent = "✅ Access Granted! Your loadstring is below:";
      msg.className = "success";
      loadBox.style.display = "block";
      loadBox.value = 'loadstring(game:HttpGet("https://raw.githubusercontent.com/jonashstudio/RonashOnTop.github.io/refs/heads/main/script.lua"))()';
      loadBox.select();
      document.execCommand("copy");
      alert("📋 Loadstring copied to clipboard!");
    } else {
      msg.textContent = "⌛ Key expired. Please get a new one.";
      msg.className = "error";
      loadBox.style.display = "none";
    }
  } else {
    msg.textContent = "❌ Invalid Key!";
    msg.className = "error";
    loadBox.style.display = "none";
  }
}
</script>
</body>
</html>
